<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Shannon Insight</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/static/style.css">
</head>
<body>

<!-- Progress -->
<div id="progressBar"><div id="progressFill"></div></div>
<div class="progress-text" id="progressText"></div>

<!-- Reconnect banner -->
<div id="reconnectBanner">
  <span class="reconnect-dot"></span>
  Reconnecting<span class="analyzing-dots"></span>
</div>

<!-- Navigation -->
<div class="topbar">
  <div class="topbar-brand">SHANNON<span> INSIGHT</span></div>
  <nav class="topbar-nav" id="nav">
    <a href="#overview" data-screen="overview" class="active">Overview</a>
    <a href="#issues" data-screen="issues">Issues</a>
    <a href="#files" data-screen="files">Files</a>
    <a href="#modules" data-screen="modules">Modules</a>
    <a href="#health" data-screen="health">Health</a>
  </nav>
  <div class="topbar-right">
    <div class="export-dropdown" id="exportDropdown">
      <button class="export-btn" id="exportBtn">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
        Export
      </button>
      <div class="export-dropdown-menu">
        <a href="/api/export/json">JSON</a>
        <a href="/api/export/csv">CSV</a>
      </div>
    </div>
    <div class="status-indicator" id="statusDot"></div>
    <span id="statusText" class="status-text"></span>
    <span id="metaInfo" class="meta-info"></span>
  </div>
</div>

<!-- Main content -->
<div class="main">

  <!-- ═══ OVERVIEW ═══ -->
  <div class="screen active" id="screen-overview">

    <!-- Hero: Health Score -->
    <div class="hero">
      <div class="hero-score-area">
        <div class="verdict-banner" id="verdictBanner"></div>
        <div class="health-big" id="healthScore">--</div>
        <div class="health-label" id="healthLabel">Analyzing<span class="analyzing-dots"></span></div>
      </div>
    </div>

    <!-- Stats strip -->
    <div class="stat-strip" id="overviewStats">
      <div class="stat-card">
        <div class="stat-value" id="statFiles">--</div>
        <div class="stat-label">files</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="statModules">--</div>
        <div class="stat-label">modules</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="statCommits">--</div>
        <div class="stat-label">commits</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="statIssues">--</div>
        <div class="stat-label">issues</div>
      </div>
    </div>

    <!-- Two-column content -->
    <div class="overview-cols">
      <div class="card">
        <div class="card-title">Issue Summary</div>
        <div id="categorySummary"></div>
        <div id="riskHistogram" style="margin-top:20px"></div>
      </div>
      <div class="card">
        <div class="card-title">Focus Point</div>
        <div id="focusPoint"></div>
      </div>
    </div>
  </div>

  <!-- ═══ ISSUES ═══ -->
  <div class="screen" id="screen-issues">
    <div class="filter-bar" id="issueFilterBar"></div>
    <div class="issue-tabs" id="issueTabs"></div>
    <div id="issueContent"></div>
  </div>

  <!-- ═══ FILES ═══ -->
  <div class="screen" id="screen-files">
    <div id="fileListView"></div>
    <div id="fileDetailView" style="display:none"></div>
  </div>

  <!-- ═══ MODULES ═══ -->
  <div class="screen" id="screen-modules">
    <div id="moduleListView"></div>
    <div id="moduleDetailView" style="display:none"></div>
  </div>

  <!-- ═══ HEALTH ═══ -->
  <div class="screen" id="screen-health">
    <div id="healthTrends"></div>
    <div class="card">
      <div class="card-title">Health Dimensions</div>
      <div id="concernBars"></div>
    </div>
    <div class="card" style="margin-top:20px">
      <div class="card-title">Global Signals</div>
      <table class="global-signals-table" id="globalSignalsTable"><tbody></tbody></table>
    </div>
  </div>

</div>

<!-- Keyboard shortcuts -->
<div class="kbd-hint" id="kbdHint">? shortcuts</div>
<div class="kbd-overlay" id="kbdOverlay">
  <div class="kbd-overlay-panel">
    <h3>Keyboard Shortcuts</h3>
    <div><span>Switch tabs</span><kbd>1</kbd>-<kbd>5</kbd></div>
    <div><span>Search files</span><kbd>/</kbd></div>
    <div><span>Move selection</span><kbd>j</kbd> / <kbd>k</kbd></div>
    <div><span>Open selected</span><kbd>Enter</kbd></div>
    <div><span>Go back</span><kbd>Esc</kbd></div>
    <div><span>Toggle shortcuts</span><kbd>?</kbd></div>
  </div>
</div>

<script src="/static/app.js"></script>
</body>
</html>
